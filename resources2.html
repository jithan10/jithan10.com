<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Update Root Password on Robot OS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      background: #f5f5f5;
      padding: 20px;
      color: #333;
    }
    h1 { color: #222; }
    code, pre {
      background: #eaeaea;
      padding: 10px;
      display: block;
      white-space: pre-wrap;
      border-left: 3px solid #555;
      margin: 10px 0;
    }
    section {
      background: #fff;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 5px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .back-link {
      margin-top: 30px;
      display: inline-block;
      color: #0066cc;
      text-decoration: none;
    }
    .back-link:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>

  <h1>Update Root Password on Robot OS (Ubuntu 14.04 SquashFS)</h1>

  <section>
    <h2>Step 1: Boot into Kali</h2>
    <p>Use Kali Linux with persistence via Ventoy. Make sure the persistence mode is working.</p>
  </section>

  <section>
    <h2>Step 2: Mount the Robot’s Boot Partition</h2>
    <pre><code>sudo mkdir -p /mnt/customos
sudo mount /dev/sda1 /mnt/customos</code></pre>
  </section>

  <section>
    <h2>Step 3: Extract the SquashFS Root</h2>
    <pre><code>sudo unsquashfs /mnt/customos/main-*.sqsh</code></pre>
    <p>This will create a directory called <code>squashfs-root/</code>.</p>
  </section>

  <section>
    <h2>Step 4: Chroot into the Extracted Root</h2>
    <pre><code>sudo mount --bind /dev /squashfs-root/dev
sudo mount --bind /proc /squashfs-root/proc
sudo mount --bind /sys /squashfs-root/sys
sudo mount --bind /dev/pts /squashfs-root/dev/pts
sudo mount --bind /run /squashfs-root/run

sudo chroot squashfs-root /bin/bash</code></pre>
  </section>

  <section>
    <h2>Step 5: Change the Passwords</h2>
    <pre><code>passwd       # Change root password
passwd st    # Optional: Change st user password</code></pre>
  </section>

  <section>
    <h2>Step 6: Exit and Unmount</h2>
    <pre><code>exit
sudo umount /squashfs-root/dev/pts
sudo umount /squashfs-root/dev
sudo umount /squashfs-root/proc
sudo umount /squashfs-root/sys
sudo umount /squashfs-root/run</code></pre>
  </section>

  <section>
    <h2>Step 7: Repack the SquashFS</h2>
    <pre><code>sudo mksquashfs squashfs-root/ main-updated.sqsh</code></pre>
    <p>Replace the original with your modified image:</p>
    <pre><code>sudo mv /mnt/customos/main-*.sqsh /mnt/customos/main-original-backup.sqsh
sudo mv main-updated.sqsh /mnt/customos/main-848ed7c330d4-1511805726.923211098.sqsh</code></pre>
  </section>

  <a class="back-link" href="index.html">← Back to Home</a>
</body>
</html>
